<!DOCTYPE html>
<html lang="es">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>SII UPAtlacomulco</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="icono/png" href="/public/images/upa_logo.png">
    <link rel="stylesheet" href="/public/css/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        html,
        body,
        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: "Raleway", sans-serif
        }

        .ancho-avatar {
            width: 46px;
        }

        table {
            border-collapse: collapse;
            width: 100%;
        }

        th,
        td {
            border: 1px solid #dddddd;
            text-align: center;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }

        .selected {
            background-color: black;
            color: white;
        }

        table {
            border-collapse: collapse;
            width: 100%;
        }

        th,
        td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: lightgray;
            /* Color de fondo para las horas */
        }

        .input-container {
            display: flex;
            align-items: center;
        }

        .input-container input {
            width: 250px;
            /* Ajusta el valor según sea necesario */
            padding: 3px;
            font-size: 14px;
        }
    </style>

</head>

<body class="w3-light-grey">

    <!-- Top container -->
    <div class="w3-bar w3-top w3-black w3-large" style="z-index:4">
        <button class="w3-bar-item w3-button w3-hide-large w3-hover-none w3-hover-text-light-grey"
            onclick="w3_open();"><i class="fa fa-bars"></i> &nbsp;Menu</button>
        <span class="w3-bar-item w3-right"><img src="/public/images/upa_logo.png" style="width:46px"> SII
            UPAtlacomulco</span>
    </div>

    <!-- Sidebar/menu -->
    <nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
        <div class="w3-container w3-row">
            <div class="w3-col s4">
                <img src="/public/images/avatar2.png" class="w3-circle w3-margin-right ancho-avatar">
            </div>
            <div class="w3-col s8 w3-bar">
                <br>
                <span>Hola, <strong>{nombre_completo_tallerista}</strong></span>
            </div>
        </div>
        <hr>
        <div class="w3-container w3-green">
            <h5>MENU</h5>
        </div>
        <div class="w3-bar-block">
            <a href="https://sii.upatlacomulco.edu.mx/alumnos/index#"
                class="w3-bar-item w3-button w3-padding-16 w3-hide-large w3-dark-grey w3-hover-black"
                onclick="w3_close()" title="cerrar menu"><i class="fa fa-remove fa-fw"></i>&nbsp; Cerrar Menu</a>

            <a href="https://sii.upatlacomulco.edu.mx/alumnos/index" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-home fa-fw"></i>&nbsp; INICIO</a>

            <a href="http://www.talleres.local/talleres/crear" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-futbol-o"></i>&nbsp; TALLERES</a>

            <a href="http://www.talleres.local/talleres/assitencia" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-futbol-o"></i>&nbsp; Asistencia</a>

            <a href="http://www.talleres.local/talleres/tallerista" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-futbol-o"></i>&nbsp; TALLERISTAS</a>

            <a href="http://www.talleres.local/talleres/crearGrupoTaller" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-futbol-o"></i>&nbsp; GRUPO-TALLER</a>

            <a href="http://www.talleres.local/talleres/verGrupoTaller" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-futbol-o"></i>&nbsp; ESTUDIANTE TALLER</a>

            <a href="https://sii.upatlacomulco.edu.mx/alumnos/formularioAspirantes"
                class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-user-o fa-fw"></i>&nbsp; ACTUALIZAR DATOS</a>

            <a href="https://sii.upatlacomulco.edu.mx/clases/alumnos" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-address-book-o fa-fw"></i>&nbsp; DATOS PERSONALES</a>

            <a href="https://sii.upatlacomulco.edu.mx/alumnos/mapa_curricular"
                class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-table fa-fw"></i>&nbsp; MAPA CURRICULAR</a>

            <a href="https://sii.upatlacomulco.edu.mx/alumnos/consulta_actas" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-file-o fa-fw"></i>&nbsp; ACTA DE CALIFICACIONES</a>

            <a href="https://sii.upatlacomulco.edu.mx/alumnos/historial_alumnos"
                class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-folder-open-o fa-fw"></i>&nbsp; HISTORIAL ACADÉMICO</a>

            <a href="https://sii.upatlacomulco.edu.mx/alumnos/chgpase" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-unlock-alt fa-fw"></i>&nbsp; NIP</a>

            <a href="https://sii.upatlacomulco.edu.mx/alumnos/salir" class="w3-bar-item w3-button w3-padding ">
                <i class="fa fa-sign-out fa-fw"></i>&nbsp; SALIR Y CERRAR SESIÓN</a>

        </div>
    </nav>

    <!-- Overlay effect when opening sidebar on small screens -->
    <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer"
        title="cerrar menu" id="myOverlay"></div>
    <!-- !PAGE CONTENT! -->
    <div class="w3-main" style="margin-left:300px;margin-top:43px;">

        <!-- Header -->
        <header class="w3-container" style="padding-top:22px">
            <h5><b><i class="fa fa-futbol-o"></i> ASISTENCIA</b></h5>
        </header>

        <div class="w3-container w3-dark-grey w3-padding">


            <div class="w3-container">
                <h1>Selecciona el día y horario</h1>
                
                <label for="dia">Día:</label>
                <select id="dia" name="dia" onchange="loadHorarios()" class="w3-input w3-round" style="width:100%;">
                    <option value="">Selecciona un día</option>
                    <option value="1">Lunes</option>
                    <option value="2">Martes</option>
                    <option value="3">Miércoles</option>
                    <option value="4">Jueves</option>
                    <option value="5">Viernes</option>
                </select>
                
                <div id="horarios" style="display:none; margin-top: 20px;">
                    <label for="horario">Horario:</label>
                    <select name="idtallerista" id="horario" class="w3-input w3-round select2 select-tallerista" style="width:100%;" onchange="showNextButton()">
                        <option value="">-- SELECCIONA UN HORARIO --</option>
                    </select>
                </div>
            
                <div id="nextButton" style="display:none; text-align: right; margin-top: 20px;">
                    <button class="w3-button w3-green w3-round" onclick="nextStep()">Siguiente</button>
                </div>
            </div>
            
            <script>
            function loadHorarios() {
                var dia = document.getElementById('dia').value;
                var horariosDiv = document.getElementById('horarios');
                var horarioSelect = document.getElementById('horario');
            
                // Verifica si un día ha sido seleccionado
                if (dia) {
                    // Mostrar el div de horarios
                    horariosDiv.style.display = 'block';
            
                    // Añadir la opción por defecto al select de horarios
                    horarioSelect.innerHTML = '<option value="">-- SELECCIONA UN HORARIO --</option>';
            
                    // Crear una solicitud AJAX
                    var xhr = new XMLHttpRequest();
                    xhr.open('POST', '/talleres/assitencia', true);
                    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            
                    xhr.onreadystatechange = function() {
                        if (xhr.readyState === 4 && xhr.status === 200) {
                            // Inserta los horarios disponibles debajo de la opción "SELECCIONA UN HORARIO"
                            horarioSelect.innerHTML += xhr.responseText;
                        }
                    };
            
                    // Envía la solicitud con el día seleccionado
                    xhr.send('dia=' + dia);
                } else {
                    // Si no hay un día seleccionado, oculta el div de horarios y el botón de siguiente
                    horariosDiv.style.display = 'none';
                    document.getElementById('nextButton').style.display = 'none';
                }
            }
            
            function showNextButton() {
                var horarioSelect = document.getElementById('horario').value;
                var nextButton = document.getElementById('nextButton');
            
                // Muestra el botón de siguiente solo si se selecciona un horario
                if (horarioSelect) {
                    nextButton.style.display = 'block';
                } else {
                    nextButton.style.display = 'none';
                }
            }
            
            function nextStep() {
                // Redirige al usuario a la URL especificada
                window.location.href = '/talleres/ListaAsistencia';
            }
            </script>
            


            <style>
                .w3-table-all td {
                    vertical-align: middle;
                }

                .w3-table-all td a,
                .w3-table-all td input[type="button"] {
                    display: inline-block;
                    margin: 2px;
                }
            </style>
        </div>


        <!-- Footer -->
        <footer class="w3-container w3-padding-16 w3-light-grey">
            <p><i style="font-size: 16px" class="fa"></i>
                Universidad Politécnica de Atlacomulco,
                Km. 5 Carretera Atlacomulco - San José Toxi,
                Santo Domingo Shomeje, Atlacomulco de Fabela,
                Estado de México. Tel. (712) 690 3020
            </p>
        </footer>

        <!-- End page content -->
    </div>

    <script>
        document.getElementById('cupo').addEventListener('input', function (event) {
            var value = parseInt(event.target.value, 10);
            if (value > 40) {
                event.target.value = 40;
            }
        });
    </script>

    <script>
        var mySidebar = document.getElementById("mySidebar");
        var overlayBg = document.getElementById("myOverlay");
        function w3_open() {
            if (mySidebar.style.display === 'block') {
                mySidebar.style.display = 'none';
                overlayBg.style.display = "none";
            } else {
                mySidebar.style.display = 'block';
                overlayBg.style.display = "block";
            }
        }
        function w3_close() {
            mySidebar.style.display = "none";
            overlayBg.style.display = "none";
        }

    </script>


</body>

</html